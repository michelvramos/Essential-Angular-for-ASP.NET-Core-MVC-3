(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{jkDv:function(t,e,n){"use strict";n.r(e),n.d(e,"AdminModule",function(){return T});var r=n("tyNb"),c=n("3Pt+"),o=n("fXoL"),b=n("qdT6"),i=n("LRne"),a=n("lJxs"),s=n("JIr8");let l=(()=>{class t{constructor(t,e){this.repo=t,this.router=e,this.authenticated=!1}login(){if(this.authenticated=!1,!this.password)throw"Password can not be null";return this.repo.login(this.name,this.password).pipe(Object(a.a)(t=>(t&&(this.authenticated=!0,this.password=null,this.router.navigateByUrl(this.callbackUrl||"/admin/overview")),this.authenticated)),Object(s.a)(t=>(this.authenticated=!1,Object(i.a)(!1))))}logout(){this.authenticated=!1,this.repo.logout(),this.router.navigateByUrl("/admin/login")}}return t.\u0275fac=function(e){return new(e||t)(o.Rb(b.a),o.Rb(r.d))},t.\u0275prov=o.Eb({token:t,factory:t.\u0275fac}),t})();const u=function(){return{exact:!0}};let d=(()=>{class t{constructor(t,e){this.repo=t,this.authService=e,t.filter.reset(),t.filter.related=!0,this.repo.getProducts(),this.repo.getSuppliers(),this.repo.getOrders()}}return t.\u0275fac=function(e){return new(e||t)(o.Ib(b.a),o.Ib(l))},t.\u0275cmp=o.Cb({type:t,selectors:[["ng-component"]],decls:21,vars:2,consts:[[1,"navbar","bg-info","mb-1"],[1,"navbar-brand","text-white"],[1,"float-right","navbar-text"],[1,"btn","btn-sm","btn-warning",3,"click"],[1,"col-3","fixed-bottom","mb-1"],["routerLink","/store",1,"btn","btn-block","btn-secondary"],[1,"row","no-gutters"],[1,"col-3"],["routerLink","/admin","routerLinkActive","active",1,"btn","btn-block","btn-outline-info","m-1",3,"routerLinkActiveOptions"],["routerLink","/admin/products","routerLinkActive","active",1,"btn","btn-block","btn-outline-info","m-1"],["routerLink","/admin/orders","routerLinkActive","active",1,"btn","btn-block","btn-outline-info","m-1"],[1,"col","p-2"]],template:function(t,e){1&t&&(o.Nb(0,"div",0),o.Nb(1,"a",1),o.kc(2,"SPORTS STORE Admin"),o.Mb(),o.Nb(3,"div",2),o.Nb(4,"button",3),o.Ub("click",function(){return e.authService.logout()}),o.kc(5," Log Out "),o.Mb(),o.Mb(),o.Nb(6,"a",1),o.kc(7,"SPORTS STORE Admin"),o.Mb(),o.Mb(),o.Nb(8,"div",4),o.Nb(9,"a",5),o.kc(10," Store "),o.Mb(),o.Mb(),o.Nb(11,"div",6),o.Nb(12,"div",7),o.Nb(13,"button",8),o.kc(14," Overview "),o.Mb(),o.Nb(15,"button",9),o.kc(16," Products "),o.Mb(),o.Nb(17,"button",10),o.kc(18," Orders "),o.Mb(),o.Mb(),o.Nb(19,"div",11),o.Jb(20,"router-outlet"),o.Mb(),o.Mb()),2&t&&(o.xb(13),o.ac("routerLinkActiveOptions",o.bc(1,u)))},directives:[r.g,r.e,r.f,r.i],encapsulation:2}),t})(),p=(()=>{class t{constructor(t){this.repo=t}get products(){return this.repo.products}get orders(){return this.repo.orders}}return t.\u0275fac=function(e){return new(e||t)(o.Ib(b.a))},t.\u0275cmp=o.Cb({type:t,selectors:[["ng-component"]],decls:13,vars:2,consts:[[1,"table","m-1"],["routerLink","/admin/products",1,"btn","btn-sm","btn-info","btn-block"],["routerLink","/admin/orders",1,"btn","btn-sm","btn-info","btn-block"]],template:function(t,e){1&t&&(o.Nb(0,"table",0),o.Nb(1,"tr"),o.Nb(2,"td"),o.kc(3),o.Mb(),o.Nb(4,"td"),o.Nb(5,"button",1),o.kc(6," Manage Products "),o.Mb(),o.Mb(),o.Mb(),o.Nb(7,"tr"),o.Nb(8,"td"),o.kc(9),o.Mb(),o.Nb(10,"td"),o.Nb(11,"button",2),o.kc(12," Manage Orders "),o.Mb(),o.Mb(),o.Mb(),o.Mb()),2&t&&(o.xb(3),o.mc("There are ",(null==e.products?null:e.products.length)||0," products for sale"),o.xb(6),o.mc("There are ",(null==e.orders?null:e.orders.length)||0," orders"))},directives:[r.e],encapsulation:2}),t})();var h=n("3hzH"),f=n("ofXK");function g(t,e){if(1&t&&(o.Nb(0,"option",5),o.kc(1),o.Mb()),2&t){const t=e.$implicit;o.ac("ngValue",t),o.xb(1),o.lc(t.name)}}let M=(()=>{class t{constructor(t){this.repo=t}get product(){return this.repo.product}get suppliers(){return this.repo.suppliers}compareSuppliers(t,e){return t&&e&&t.name==e.name}}return t.\u0275fac=function(e){return new(e||t)(o.Ib(b.a))},t.\u0275cmp=o.Cb({type:t,selectors:[["admin-product-editor"]],decls:21,vars:7,consts:[[1,"form-group"],[1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","compareWith","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"]],template:function(t,e){1&t&&(o.Nb(0,"div",0),o.Nb(1,"label"),o.kc(2,"Name"),o.Mb(),o.Nb(3,"input",1),o.Ub("ngModelChange",function(t){return e.product.name=t}),o.Mb(),o.Mb(),o.Nb(4,"div",0),o.Nb(5,"label"),o.kc(6,"Category"),o.Mb(),o.Nb(7,"input",1),o.Ub("ngModelChange",function(t){return e.product.category=t}),o.Mb(),o.Mb(),o.Nb(8,"div",0),o.Nb(9,"label"),o.kc(10,"Supplier"),o.Mb(),o.Nb(11,"select",2),o.Ub("ngModelChange",function(t){return e.product.supplier=t}),o.ic(12,g,2,2,"option",3),o.Mb(),o.Mb(),o.Nb(13,"div",0),o.Nb(14,"label"),o.kc(15,"Description"),o.Mb(),o.Nb(16,"textarea",1),o.Ub("ngModelChange",function(t){return e.product.description=t}),o.Mb(),o.Mb(),o.Nb(17,"div",0),o.Nb(18,"label"),o.kc(19,"Price"),o.Mb(),o.Nb(20,"input",4),o.Ub("ngModelChange",function(t){return e.product.price=t}),o.Mb(),o.Mb()),2&t&&(o.xb(3),o.ac("ngModel",e.product.name),o.xb(4),o.ac("ngModel",e.product.category),o.xb(4),o.ac("ngModel",e.product.supplier)("compareWith",e.compareSuppliers),o.xb(1),o.ac("ngForOf",e.suppliers),o.xb(4),o.ac("ngModel",e.product.description),o.xb(4),o.ac("ngModel",e.product.price))},directives:[c.a,c.c,c.f,c.j,f.i,c.h,c.g,c.k],encapsulation:2}),t})();function m(t,e){if(1&t){const t=o.Ob();o.Nb(0,"td"),o.kc(1),o.Mb(),o.Nb(2,"td"),o.kc(3),o.Mb(),o.Nb(4,"td"),o.kc(5),o.Mb(),o.Nb(6,"td"),o.kc(7),o.Mb(),o.Nb(8,"td"),o.kc(9),o.Xb(10,"currency"),o.Mb(),o.Nb(11,"td"),o.Nb(12,"button",8),o.Ub("click",function(){o.ec(t);const e=o.Wb().$implicit;return o.Wb(2).selectProduct(e.productId)}),o.kc(13," Edit "),o.Mb(),o.Nb(14,"button",9),o.Ub("click",function(){o.ec(t);const e=o.Wb().$implicit;return o.Wb(2).deleteProduct(e.productId)}),o.kc(15," Delete "),o.Mb(),o.Mb()}if(2&t){const t=o.Wb().$implicit;o.xb(1),o.lc(t.productId),o.xb(2),o.lc(t.name),o.xb(2),o.lc(t.category),o.xb(2),o.lc((null==t.supplier?null:t.supplier.name)||"(None)"),o.xb(2),o.lc(o.Yb(10,5,t.price,"USD","symbol"))}}function N(t,e){if(1&t&&(o.Nb(0,"tr"),o.ic(1,m,16,9,"ng-template",7),o.Mb()),2&t){const t=e.$implicit,n=o.Wb(2),r=o.dc(2);o.xb(1),o.ac("ngIf",(null==n.product?null:n.product.productId)!=t.productId)("ngIfElse",r)}}function k(t,e){if(1&t){const t=o.Ob();o.Nb(0,"table",3),o.Nb(1,"tbody"),o.Nb(2,"tr"),o.Nb(3,"th"),o.kc(4,"ID"),o.Mb(),o.Nb(5,"th"),o.kc(6,"Name"),o.Mb(),o.Nb(7,"th"),o.kc(8,"Category"),o.Mb(),o.Nb(9,"th"),o.kc(10,"Supplier"),o.Mb(),o.Nb(11,"th"),o.kc(12,"Price"),o.Mb(),o.Jb(13,"th"),o.Mb(),o.ic(14,N,2,2,"tr",4),o.Mb(),o.Nb(15,"tfoot"),o.Nb(16,"tr"),o.Nb(17,"td",5),o.Nb(18,"button",6),o.Ub("click",function(){o.ec(t);const e=o.Wb();return e.clearProduct(),e.tableMode=!1}),o.kc(19," Create "),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb()}if(2&t){const t=o.Wb();o.xb(14),o.ac("ngForOf",t.products)}}function v(t,e){if(1&t){const t=o.Ob();o.Nb(0,"td",10),o.Jb(1,"admin-product-editor"),o.Nb(2,"div",11),o.Nb(3,"button",8),o.Ub("click",function(){return o.ec(t),o.Wb().saveProduct()}),o.kc(4," Save "),o.Mb(),o.Nb(5,"button",12),o.Ub("click",function(){return o.ec(t),o.Wb().clearProduct()}),o.kc(6," Cancel "),o.Mb(),o.Mb(),o.Mb()}}function w(t,e){if(1&t){const t=o.Ob();o.Nb(0,"div",13),o.Jb(1,"admin-product-editor"),o.Nb(2,"button",6),o.Ub("click",function(){return o.ec(t),o.Wb().saveProduct()}),o.kc(3," Save "),o.Mb(),o.Nb(4,"button",14),o.Ub("click",function(){return o.ec(t),o.Wb().clearProduct()}),o.kc(5," Cancel "),o.Mb(),o.Mb()}}let x=(()=>{class t{constructor(t){this.repo=t,this.tableMode=!0}get product(){return this.repo.product}selectProduct(t){if(void 0===t)throw"id is undefined";this.repo.getProduct(t)}saveProduct(){null==this.repo.product.productId?this.repo.createProduct(this.repo.product):this.repo.replaceProduct(this.repo.product),this.clearProduct(),this.tableMode=!0}deleteProduct(t){if(void 0===t)throw"id is undefined";this.repo.deleteProduct(t)}clearProduct(){this.repo.product=new h.a,this.tableMode=!0}get products(){return this.repo.products}}return t.\u0275fac=function(e){return new(e||t)(o.Ib(b.a))},t.\u0275cmp=o.Cb({type:t,selectors:[["ng-component"]],decls:5,vars:2,consts:[["class","table table-sm table-striped",4,"ngIf","ngIfElse"],["edit",""],["create",""],[1,"table","table-sm","table-striped"],[4,"ngFor","ngForOf"],["colspan","6",1,"text-center"],[1,"btn","btn-primary",3,"click"],[3,"ngIf","ngIfElse"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"btn","btn-sm","btn-danger","ml-1",3,"click"],["colspan","6",1,"bg-light","border","p-3"],[1,"text-center"],[1,"btn","btn-sm","btn-info","ml-1",3,"click"],[1,"m-2"],[1,"btn","btn-info","ml-1",3,"click"]],template:function(t,e){if(1&t&&(o.ic(0,k,20,1,"table",0),o.ic(1,v,7,0,"ng-template",null,1,o.jc),o.ic(3,w,6,0,"ng-template",null,2,o.jc)),2&t){const t=o.dc(4);o.ac("ngIf",e.tableMode)("ngIfElse",t)}},directives:[f.j,f.i,M],pipes:[f.c],encapsulation:2}),t})();function y(t,e){if(1&t&&(o.Nb(0,"td"),o.kc(1),o.Xb(2,"currency"),o.Mb()),2&t){const t=o.Wb().$implicit;o.xb(1),o.lc(o.Yb(2,1,null==t.payment?null:t.payment.total,"USD","symbol"))}}function I(t,e){if(1&t){const t=o.Ob();o.Nb(0,"td"),o.Nb(1,"button",7),o.Ub("click",function(){o.ec(t);const e=o.Wb().$implicit;return o.Wb(2).markShipped(e)}),o.kc(2," Ship "),o.Mb(),o.Mb()}}function S(t,e){if(1&t&&(o.Nb(0,"tr"),o.Nb(1,"td"),o.kc(2),o.Mb(),o.Nb(3,"td"),o.kc(4),o.Mb(),o.Nb(5,"td"),o.kc(6),o.Mb(),o.ic(7,y,3,5,"td",6),o.ic(8,I,3,0,"td",6),o.Mb()),2&t){const t=e.$implicit;o.Wb(2);const n=o.dc(6),r=o.dc(2);o.xb(2),o.lc(t.name),o.xb(2),o.lc(t.address),o.xb(2),o.lc(t.products.length),o.xb(1),o.ac("ngIf",t.payment)("ngIfElse",n),o.xb(1),o.ac("ngIf",!t.shipped)("ngIfElse",r)}}function P(t,e){if(1&t&&(o.Nb(0,"table",4),o.Nb(1,"tbody"),o.Nb(2,"tr"),o.Nb(3,"th"),o.kc(4,"Customer"),o.Mb(),o.Nb(5,"th"),o.kc(6,"Address"),o.Mb(),o.Nb(7,"th"),o.kc(8,"Products"),o.Mb(),o.Nb(9,"th"),o.kc(10,"Total"),o.Mb(),o.Jb(11,"th"),o.Mb(),o.ic(12,S,9,7,"tr",5),o.Mb(),o.Mb()),2&t){const t=o.Wb();o.xb(12),o.ac("ngForOf",t.orders)}}function O(t,e){1&t&&(o.Nb(0,"td"),o.kc(1,"Shipped"),o.Mb())}function C(t,e){1&t&&(o.Nb(0,"h3",8),o.kc(1,"There are no orders"),o.Mb())}function U(t,e){1&t&&(o.Nb(0,"td"),o.kc(1,"No payment"),o.Mb())}let E=(()=>{class t{constructor(t){this.repo=t}get orders(){return this.repo.orders}markShipped(t){this.repo.shipOrder(t)}}return t.\u0275fac=function(e){return new(e||t)(o.Ib(b.a))},t.\u0275cmp=o.Cb({type:t,selectors:[["ng-component"]],decls:7,vars:2,consts:[["class","table table-striped",4,"ngIf","ngIfElse"],["shipped",""],["nodata",""],["noPayment",""],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"text-center"]],template:function(t,e){if(1&t&&(o.ic(0,P,13,1,"table",0),o.ic(1,O,2,0,"ng-template",null,1,o.jc),o.ic(3,C,2,0,"ng-template",null,2,o.jc),o.ic(5,U,2,0,"ng-template",null,3,o.jc)),2&t){const t=o.dc(4);o.ac("ngIf",(null==e.orders?null:e.orders.length)||!1)("ngIfElse",t)}},directives:[f.j,f.i],pipes:[f.c],encapsulation:2}),t})(),W=(()=>{class t{constructor(t,e){this.router=t,this.authService=e}canActivateChild(t,e){return!!this.authService.authenticated||(this.authService.callbackUrl=t.url.toString(),this.router.navigateByUrl("/admin/login"),!1)}}return t.\u0275fac=function(e){return new(e||t)(o.Rb(r.d),o.Rb(l))},t.\u0275prov=o.Eb({token:t,factory:t.\u0275fac}),t})(),j=(()=>{class t{}return t.\u0275mod=o.Gb({type:t}),t.\u0275inj=o.Fb({factory:function(e){return new(e||t)},providers:[l,W],imports:[[r.h,c.b,f.b]]}),t})();function L(t,e){1&t&&(o.Nb(0,"h4",13),o.kc(1," Invalid username or password\n"),o.Mb())}function F(t,e){1&t&&(o.Nb(0,"div",14),o.kc(1," Please enter your user name "),o.Mb())}function A(t,e){1&t&&(o.Nb(0,"div",14),o.kc(1," Please enter your password "),o.Mb())}const R=[{path:"login",component:(()=>{class t{constructor(t){this.authService=t,this.showError=!1}login(){this.showError=!1,this.authService.login().subscribe(t=>{this.showError=!t})}}return t.\u0275fac=function(e){return new(e||t)(o.Ib(l))},t.\u0275cmp=o.Cb({type:t,selectors:[["ng-component"]],decls:21,vars:6,consts:[[1,"navbar","bg-info","mb-1"],[1,"navbar-brand","text-white"],["class","p-2 bg-danger text-white",4,"ngIf"],["novalidate","",1,"m-3"],["authForm","ngForm"],[1,"form-group"],["name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],["class","text-danger",4,"ngIf"],["type","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["password","ngModel"],[1,"text-center","pt-2"],[1,"btn","btn-primary",3,"disabled","click"],[1,"p-2","bg-danger","text-white"],[1,"text-danger"]],template:function(t,e){if(1&t&&(o.Nb(0,"div",0),o.Nb(1,"a",1),o.kc(2,"SPORTS STORE Admin"),o.Mb(),o.Mb(),o.ic(3,L,2,0,"h4",2),o.Nb(4,"form",3,4),o.Nb(6,"div",5),o.Nb(7,"label"),o.kc(8,"Name:"),o.Mb(),o.Nb(9,"input",6,7),o.Ub("ngModelChange",function(t){return e.authService.name=t}),o.Mb(),o.ic(11,F,2,0,"div",8),o.Mb(),o.Nb(12,"div",5),o.Nb(13,"label"),o.kc(14,"Password:"),o.Mb(),o.Nb(15,"input",9,10),o.Ub("ngModelChange",function(t){return e.authService.password=t}),o.Mb(),o.ic(17,A,2,0,"div",8),o.Mb(),o.Nb(18,"div",11),o.Nb(19,"button",12),o.Ub("click",function(){return e.login()}),o.kc(20," Login "),o.Mb(),o.Mb(),o.Mb()),2&t){const t=o.dc(5),n=o.dc(10),r=o.dc(16);o.xb(3),o.ac("ngIf",e.showError),o.xb(6),o.ac("ngModel",e.authService.name),o.xb(2),o.ac("ngIf",n.invalid),o.xb(4),o.ac("ngModel",e.authService.password),o.xb(2),o.ac("ngIf",r.invalid),o.xb(2),o.ac("disabled",t.invalid)}},directives:[f.j,c.l,c.d,c.e,c.a,c.i,c.c,c.f],encapsulation:2}),t})()},{path:"",component:d,canActivateChild:[W],children:[{path:"products",component:x},{path:"orders",component:E},{path:"overview",component:p},{path:"",component:p}]}];let T=(()=>{class t{}return t.\u0275mod=o.Gb({type:t}),t.\u0275inj=o.Fb({factory:function(e){return new(e||t)},imports:[[r.h,c.b,r.h.forChild(R),f.b,j]]}),t})()}}]);